# ã€è¯‘ã€‘Vue + SVGï¼Œè‡ªç”±çš„æ§åˆ¶ css çš„åŠ¨ç”»è¯¦ç»†è§£è¯´ã€‚ï¼ˆé™„ä»£ç ï¼‰

å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ UXï¼ˆäº¤äº’ä½“éªŒè®¾è®¡å¸ˆï¼‰& å‰ç«¯å¼€å‘ï¼Œå¹¶ä¸”å–œæ¬¢ç©ç”»ç”»çš„ yuki![@yuneco][1]ã€‚ åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œä¸ºäº†èƒ½å¤Ÿæ›´åŠ è‡ªç”±åœ°ä½¿ç”¨ Vue å’Œ `css animation`ï¼ŒåŸºç¡€çš„éƒ¨åˆ†ï¼Œå°†ä¼šè·Ÿå¤§å®¶ä¸€æ­¥æ­¥çš„è¯¦ç»†è§£é‡Šã€‚ç›®æ ‡å¦‚ä¸‹å›¾â†“æ‰€ç¤ºï¼Œç”¨ `JavaScript` è‡ªç”±çš„æ§åˆ¶åŠ¨ç”»ã€‚

![æ•ˆæœå›¾][2]

æºç é€ä¸Š [https://github.com/yuneco/css-anime-tutorial]( https://github.com/yuneco/css-anime-tutorial)

## ç›®å½•
é‚£ä¹ˆå…ˆä»æœ€ç®€å•çš„ svg æ ‡ç­¾å¼€å§‹ã€‚ç”¨ Vue è‡ªç”±åœ°é…ç½®ã€ä½¿å…¶å˜å½¢ã€‚ç„¶ååˆ©ç”¨ `css` çš„ `transition` æ¥åšåŠ¨ç”»ï¼Œæœ€åæŠŠåŠ¨ç”»æŠ½è±¡å°è£…ï¼Œè¿ç”¨åˆ°æ›´åŠ å¤æ‚çš„åœºæ™¯ä¸Šã€‚

  1. åˆ¶ä½œ svg
  2. åˆ›å»º Vue é¡¹ç›®
  3. æ˜¾ç¤º svg
  4. èƒ½å¤Ÿè‡ªç”±é…ç½®
  5. èƒ½å¤Ÿæ›´è‡ªç”±æ›´å¤§è§’åº¦çš„å˜åŒ–
  6. èµ‹äºˆåŠ¨ç”»
  7. èƒ½å¤Ÿè¿ç»­è¿›è¡ŒåŠ¨ç”»
  8. æŠ½è±¡å°è£…åŠ¨ç”»

## æ³¨æ„ç‚¹
  1. è¿™ç¯‡æ–‡ç« ä»‹ç»çš„æ–¹æ³•å¹¶ä¸æ˜¯ä½¿ç”¨åŠ¨ç”»æ—¶é€šç”¨çš„æ–¹æ³•ã€‚
  2. æƒ³è¦åˆ¶ä½œæ›´å¤æ‚çš„åŠ¨ç”»ï¼Œè¯·ä½¿ç”¨ `anime.js` æˆ–è€… `pixi.js`ã€‚
  3. è¿™ç¯‡æ–‡ç« å¹¶æ²¡æœ‰ä½¿ç”¨ä¸“é—¨çš„åŠ¨ç”»åº“ï¼Œè€Œæ˜¯è‡ªå·±å°è£…çš„åŠ¨ç”»ï¼Œç›®æ ‡æ˜¯ä¸ºäº†æ›´åŠ æ·±å…¥åœ°ç†è§£ Vueã€`javascript`ã€`css åŠ¨ç”»`ã€‚

è™½ç„¶è¿˜æœ‰å¾ˆå¤šç†ç”±ï¼Œä½†èƒ½ç‚¹äº®è‡ªå·±çš„ã€è‡ªå·±ç»„å»ºèƒ½å¤Ÿç†è§£çš„åŠ¨ç”»ã€‘è¿™æ–¹é¢çš„æŠ€èƒ½æ ‘ï¼Œæ— ç–‘ä¹Ÿæ˜¯å¾ˆé«˜å…´çš„ã€‚æ–‡ç« ç¨ç¨æœ‰ç‚¹é•¿ï¼Œå¦‚æœä½ èƒ½çœ‹å®Œé‚£æˆ‘ä¹Ÿå¾ˆé«˜å…´ã€‚

## åˆ¶ä½œ svg
ç¬¬ä¸€æ­¥ï¼Œæ˜¾ç¤ºè¿™ç¯‡æ•™ç¨‹è¦ä½¿ç”¨åˆ°çš„ svgï¼Œç”¨ Illustrator åˆ¶ä½œè‡ªå·±å–œæ¬¢çš„è§’è‰²å»ï¼Œä¾æ¬¡ä»èœå•ä¸Šé€‰æ‹© [ãƒ•ã‚¡ã‚¤ãƒ«] -> [æ›¸ãå‡ºã—] -> [ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ç”¨ã«æ›¸ãå‡ºã—]ï¼Œæ ¼å¼é€‰æ‹© svgï¼Œä»å³è¾¹é½¿è½®ä¸€æ ·çš„å›¾æ ‡ï¼Œæ˜¾ç¤ºè®¾å®šã€‚

![åˆ¶ä½œsvg][3]

è®¾å®šçœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚çš„ğŸ˜“ï¼Œè¿™é‡Œåœ¨ Vue ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéº»çƒ¦çš„å»ä½¿
ç”¨ svgï¼Œæ‰€ä»¥è¿™é‡Œçš„è®¾å®šä¸éœ€è¦å¤ªåœ¨æ„ï¼Œå³ä¸‹è§’çš„ `Responsive(ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–)` é€‰æ‹©è®°å¾—è¦å–æ¶ˆæ‰ã€‚

è®¾å®šå¥½äº†ä¹‹åï¼Œã€Œè¨­å®šã‚’ä¿å­˜ã€->ã€Œã‚¢ãƒ¼ãƒˆãƒœãƒ¼ãƒ‰ã‚’æ›¸ãå‡ºã—ã€å¯¼å‡º svg æ–‡ä»¶ï¼Œæ²¡æœ‰ `Illustrator` çš„åŒå­¦ç”¨å…¶å®ƒçš„æ–‡ä»¶ä¹Ÿ okã€‚æ€•éº»çƒ¦çš„åŒå­¦ï¼Œæˆ‘å§‘ä¸”åœ¨ [github][4] ä¸Šä¹Ÿæ”¾äº†ä¸€ä»½...

ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ç§æ„Ÿè§‰ï¼Œåå­—å« `taku`ï¼Œç°åœ¨åˆšå†³å®šçš„ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘åŠ äº† 1 åƒç´ çš„è¾¹æ¡†ã€‚

![ç¤ºä¾‹][5]

## åˆ›å»º Vue é¡¹ç›®
ä¸ç®¡æ€ä¹ˆè¯´ï¼Œä¸åˆ›å»ºçš„ Vue é¡¹ç›®çš„è¯ï¼Œå°±æ²¡æ³•å¼€å§‹ã€‚è¿è¡Œï¼Œ`vue create é¡¹ç›®çš„åå­—` åˆ›å»ºé¡¹ç›®ï¼Œå°±åƒä¸‹é¢ä¸€æ ·ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥ã€‚
```
? Please pick a preset: 
  default (babel, eslint) 
â¯ Manually select features 

? Check the features needed for your project: 
 â—‰ Babel
 â—¯ TypeScript
 â—¯ Progressive Web App (PWA) Support
 â—¯ Router
 â—¯ Vuex
â¯â—‰ CSS Pre-processors
 â—‰ Linter / Formatter
 â—¯ Unit Testing
 â—¯ E2E Testing

? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported 
by default): (Use arrow keys)
â¯ Sass/SCSS (with dart-sass) 
  Sass/SCSS (with node-sass) 
  Less 
  Stylus 

? Pick a linter / formatter config: 
  ESLint with error prevention only 
  ESLint + Airbnb config 
â¯ ESLint + Standard config 
  ESLint + Prettier 

ä¹‹åå…¨éƒ¨é»˜è®¤
```

é¡¹ç›®åˆ›å»ºå¥½äº†ä¹‹åï¼Œåˆ é™¤æ‰å¤šä½™çš„ `HelloWorld` ç»„ä»¶ï¼Œç„¶ååœ¨ç©ºé¡¹ç›®é‡Œè¿è¡Œ `npm run serve` ç¡®è®¤å¯ä»¥è·‘èµ·æ¥ã€‚

## æ˜¾ç¤º svg
åˆšåˆšåšå¥½çš„ svg æ–‡ä»¶ æ”¾åœ¨ `/public/img/`, `img` ç›®å½•æ²¡æœ‰çš„è¯å°±åˆ›å»ºä¸€ä¸‹ã€‚é‚£å°±å…ˆç”¨ Vue æŠŠ svg æ˜¾ç¤ºå‡ºæ¥å§ã€‚

åªæ˜¯æ™®é€šçš„æ˜¾ç¤º svg çš„è¯è·Ÿ Vue æ²¡æœ‰å…³ç³»ã€‚å¦å¤–ä¸ºäº†ä¹‹åçš„è€ƒè™‘ï¼Œå…ˆæŠŠ `src/components/Tama.vue` æ–‡ä»¶åˆ›å»ºå¥½ï¼Œä»£ç åƒä¸‹é¢è¿™æ ·ã€‚

``` html
<template>
  <img src="/img/tama.svg" alt="ã‚¿ãƒã•ã‚“">
</template>
```

è¿™ç¯‡æ•™ç¨‹ç”¨æœ€ç®€å•çš„æ–¹æ³•ï¼Œç”¨ `img` æ ‡ç­¾æ¥è¯»å– svgã€‚å½“ç„¶ç”¨å…¶å®ƒçš„æ–¹æ³•ä¹Ÿè¡Œï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š

  1. ç›´æ¥ä½¿ç”¨ \<svg\> æ ‡ç­¾
  2. ä½¿ç”¨ css çš„ background-image
  3. ä½¿ç”¨ vue-svg-loader ä¹‹ç±»çš„æ¥å¯¼å…¥æˆ Vue ç»„ä»¶

å½“ç„¶è¿˜æœ‰å„ç§å„æ ·çš„æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯æ–¹æ³• 1ï¼Œç”¨èµ·æ¥ç‰¹åˆ«çˆ½(é¢œè‰²å’Œå½¢çŠ¶å¯ä»¥åœ¨ Vue é‡Œé¢æ§åˆ¶ç­‰ç­‰)ï¼Œå¦‚æœæƒ³åšçš„å¤æ‚ç‚¹ï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ªã€‚
å»ºå¥½ `Tama.vue` ç»„ä»¶åå‘¢ï¼Œåœ¨ `App.vue` é‡Œé¢å¼•å…¥æ˜¾ç¤ºã€‚


``` html
<template>
  <div id="app">
    <tama></tama>
  </div>
</template>

<script>
import Tama from './components/Tama.vue'
export default {
  name: 'app',
  components: {
    Tama
  }
}
</script>

<style lang="scss">
html, body {
  margin: 0;
  padding: 0;
}
body {
  position: relative;
  height: 100%;
  background: url('/img/grid.svg') repeat;
}
#app {
  margin: 0;
}
</style>
```

è¿™é‡Œåªæ˜¯æŠŠ Tama å¯¼å…¥è€Œå·²ã€‚
æ¸…ç©ºäº†é»˜è®¤æ ·å¼ä¹‹åï¼Œä¸ºäº†æ–¹ä¾¿å±•ç¤ºï¼ŒèƒŒæ™¯ç”¨ [ç½‘æ ¼][6] å±•ç¤ºã€‚
å±•ç¤ºæˆä¸‹é¢è¿™æ ·å°± okã€‚

![ç¤ºä¾‹][7]

## é…ç½®åˆ°ä½ æƒ³è¦çš„åœ°æ–¹

ç”»é¢å·²ç»å‡ºæ¥äº†ï¼Œå¦‚æœä¸èƒ½è‡ªç”±çš„å±•ç¤ºåˆ°æƒ³è¦çš„åœ°æ–¹ï¼Œå°±æ²¡æ³•åšåŠ¨ç”»ã€‚æ¥ä¸‹æ¥å°±æ˜¯æŠŠ `taku` é…ç½®åˆ°ä»»æ„çš„åœ°æ–¹æ”¾ã€‚

### é…ç½®åˆ°æŒ‡å®šçš„åæ ‡

å…ˆé…ç½®åˆ°åˆ° `x = 200px, y = 100px` è¿™ä¸ªä½ç½®å§ã€‚

``` html
<template>
  <img
    class="tama-root"
    src="/img/tama.svg"
    alt="ã‚¿ãƒã•ã‚“"
  >
</template>

<style lang="scss" scoped>
.tama-root {
  position: absolute;
  left: 0;
  top: 0;
  transform: translate(200px, 100px);
}
</style>
```
ç”¨ `position: absolute` ç»å¯¹å®šä½ï¼Œç„¶åç”¨ `transform` æŒ‡å®šåæ ‡ï¼Œè™½ç„¶æŒ‡å®šä½ç½®ä¹Ÿå¯ä»¥ç”¨ `top` è·Ÿ `left`ï¼Œä½†æ˜¯ ç”¨ css æ¥åšåŠ¨ç”»çš„æ—¶å€™ï¼Œå°½é‡è¿˜æ˜¯ç”¨


[1]:https://twitter.com/yuneco
[2]:https://camo.qiitausercontent.com/267ab93e4087a9b5325f7601ff12fbbc87b10bd3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234353734302f62323061313936652d666433392d666564332d623464632d6336363330616330663735342e676966
[3]:https://camo.qiitausercontent.com/f6e1e5e7b022f32d7ae2e0f24d08f4c1276a65b6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234353734302f38626630316230392d366237342d393133312d613538632d3233353662653734613064352e706e67
[4]:https://github.com/yuneco/css-anime-tutorial/blob/master/public/img/tama.svg
[5]:https://camo.qiitausercontent.com/4c768a02fa1159b6aef70ef169bf3eec13020671/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234353734302f38343334323864392d313630652d386536372d383334312d3864663764386430346133372e706e67
[6]:https://github.com/yuneco/css-anime-tutorial/blob/master/public/img/grid.svg
[7]:https://camo.qiitausercontent.com/3a81f224dde487aca31e3e69b3984ad216a1a19d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234353734302f32333835626165662d336630662d303763622d646665342d3465653163323362346636642e706e67